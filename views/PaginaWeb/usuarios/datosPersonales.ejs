<% extraStyles=` 
  <style>
    body {
      background-color: #e8e8e8;
    }

    .usuario-header {
      position: absolute;
      top: 20px;
      right: 30px;
      z-index: 1000;
    }

    .usuario-button {
      display: flex;
      align-items: center;
      gap: 10px;
      background-color: transparent;
      border: none;
      font-size: 16px;
      font-weight: 600;
      color: #333;
      cursor: pointer;
    }

    .usuario-button i {
      font-size: 22px;
      color: #0d6efd;
    }

    .usuario-button .chevron {
      font-size: 16px;
      color: #555;
    }

    .usuario-button:focus {
      outline: none;
    }

    .usuario-dropdown {
      display: none;
      position: absolute;
      top: 50px;
      right: 0;
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      width: 180px;
    }

    .usuario-dropdown.active {
      display: block;
    }

    .usuario-dropdown a {
      display: block;
      padding: 10px 15px;
      color: #333;
      text-decoration: none;
      font-weight: 500;
      transition: background 0.2s;
    }

    .usuario-dropdown a:hover {
      background-color: #f0f4ff;
    }

    .nav-link:hover {
      background-color: #e6f0ff;
      border-radius: 10px;
    }

.container {
  max-width: 100%;
  margin: 0 auto;
  padding-top: 50px;
}


    .header-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }


    .panel-wrapper {
      width: 100%;
      display: flex;
      gap: 0;
    }

.sidebar-card {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 300px;
  background-color: rgb(223, 234, 255);
  z-index: 100;
    display: flex;
  flex-direction: column;
}

.content-column {
  width: 100%;
  margin-left: 300px;
  padding-left: 0;
}



.card-contenido {
  margin-top: 30px;
  width: 100%;
  height: 92vh;
  border-radius: 15px;
  overflow-y: auto;
}


.sidebar-card {
  border-radius: 0px 20px 20px 0;
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 300px;
  background-color: rgb(223, 234, 255);
  z-index: 100;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-bottom: 20px;
}

.sidebar-card .monedero-sidebar {
background: linear-gradient(90deg, #4b6cb7 0%, #182848 100%);
  border-radius: 15px;
  color: white;
  margin-top: auto;
  width: 100%;
  padding: 12px 16px;
  font-size: 13px;
}

.monedero-sidebar img {
  height: 30px;
}

.monedero-sidebar .saldo {
  font-size: 20px;
  font-weight: bold;
}

.monedero-sidebar small,
.monedero-sidebar .fw-semibold {
  font-size: 16px;
}




  </style>
`; %>


<div class="container">
  <div class="panel-wrapper">

    <!-- Sidebar fijo a la izquierda -->
<!-- Sidebar fijo a la izquierda -->
<div class="shadow sidebar-card d-flex flex-column p-4 align-items-center" style="background-color: #ffffff">
  
  <!-- Logo arriba -->
  <div class="text-center mb-3" style="height: 60px;">
    <img src="img/logoColor.png" alt="Logo" style="width: 70px; " class="img-fluid">
  </div>

  <!-- Menú justo debajo del logo, sin centrar vertical -->
  <ul class="nav flex-column w-100" style="margin-top: 10px;">
    <li class="nav-item mb-3">
      <a href="/compras" class="nav-link text-dark fw-semibold" onclick="cargarPanel('compras')">
        <i class="fas fa-shopping-cart me-2"></i> Compras
      </a>
    </li>
    <li class="nav-item mb-3">
      <a href="/datosPersonales" class="nav-link text-dark fw-semibold" onclick="cargarPanel('datos')">
        <i class="fas fa-user me-2"></i> Datos Personales
      </a>
    </li>
    <li class="nav-item mb-3">
      <a href="/catalogoProductos" class="nav-link text-dark fw-semibold" onclick="cargarPanel('catalogo')">
        <i class="fas fa-book me-2"></i> Catálogo
      </a>
    </li>
  </ul>

  <!-- Monedero al fondo -->

  <!-- Monedero al fondo -->
  <div class="monedero-sidebar mt-auto shadow-sm mx-1">
    <div class="d-flex justify-content-between align-items-start mb-2">
      <img src="img/PaginaWeb/logoBlanco.png" alt="Mundi Novi">
      <span class="fw-semibold">Monedero</span>
    </div>
    <div>
      <small class="text-white-50">Saldo:</small>
      <div class="saldo" id="saldoCliente">$0.00</div>
    </div>
    <div class="d-flex justify-content-between align-items-end mt-2">
      <small class="fw-semibold" id="nombreTarjeta" style="font-size: 12px;">Nombre Cliente</small>
      <i class="fas fa-wallet text-white-50"></i>
    </div>
  </div>



</div>




    <!-- Contenido principal -->
    <div class="content-column">

      <!-- Barra superior con nombre y botón de salir -->

        <!-- Usuario en la esquina superior derecha -->
        <div class="usuario-header">
          <button class="usuario-button" onclick="toggleMenu()">
            <i class="fas fa-user-circle"></i>
            <span id="nombreCliente" style="font-size: 20pt;">Usuario</span>
            <i class="fas fa-chevron-down chevron"></i>
          </button>

          <!-- Menú desplegable -->
          <div id="usuarioDropdown" class="usuario-dropdown">
            <a href="/logout">Cerrar sesión</a>
          </div>
        </div>




        <!-- Card de contenido con tabla de compras -->
        <div id="contenidoPanel" class="card shadow border-0 p-4 card-contenido">
        <h2 class="fw-bold text-primary mb-4">Datos personales</h2>
        
        <form id="formDatosPersonales" class="row g-4">
            <div class="col-md-6">
            <label for="nombre" class="form-label">Nombre completo</label>
            <input type="text" class="form-control" id="nombre" name="nombre">
            </div>

            <div class="col-md-6">
            <label for="rfc" class="form-label">RFC</label>
            <input type="text" class="form-control" id="rfc" name="rfc" oninput="loadRegimenOptions()">
            </div>

            <div class="col-md-6">
            <label for="regimenFiscal" class="form-label">Régimen Fiscal</label>
            <select class="form-select" id="regimenFiscal" name="regimenFiscal"></select>
            </div>

            <div class="col-md-6">
            <label for="correo" class="form-label">Correo electrónico</label>
            <input type="email" class="form-control" id="correo" name="correo">
            </div>

            <div class="col-md-6">
            <label for="telefono" class="form-label">Número telefónico</label>
            <input type="tel" class="form-control" id="telefono" name="telefono">
            </div>

            <div class="col-12">
                            <hr> 
            <h5 class="fw-bold text-secondary mt-4">Domicilio Fiscal</h5>
            </div>

            <div class="col-md-6">
            <label for="calle" class="form-label">Calle</label>
            <input type="text" class="form-control" id="calle" name="calle">
            </div>
            <div class="col-md-3">
            <label for="numeroExterior" class="form-label">Número Exterior</label>
            <input type="text" class="form-control" id="numeroExterior" name="numeroExterior">
            </div>
            <div class="col-md-3">
            <label for="numeroInterior" class="form-label">Número Interior</label>
            <input type="text" class="form-control" id="numeroInterior" name="numeroInterior">
            </div>

            <div class="col-md-4">
            <label for="cp" class="form-label">Código Postal</label>
            <input type="text" class="form-control" id="cp" name="cp">
            </div>
            <div class="col-md-4">
            <label for="colonia" class="form-label">Colonia</label>
            <input type="text" class="form-control" id="colonia" name="colonia">
            </div>
            <div class="col-md-4">
            <label for="ciudad" class="form-label">Ciudad</label>
            <input type="text" class="form-control" id="ciudad" name="ciudad">
            </div>

            <div class="col-md-6">
            <label for="municipio" class="form-label">Municipio</label>
            <input type="text" class="form-control" id="municipio" name="municipio">
            </div>
            <div class="col-md-6">
            <label for="estado" class="form-label">Estado</label>
            <input type="text" class="form-control" id="estado" name="estado">
            </div>
        </form>

            <div class="col-12 text-end mt-4">
                <button id="actualizarBtn" class="btn btn-primary">Actualizar</button>
            </div>

            <div id="spinnerActualizar" class="spinner-border spinner-border-sm text-light me-2 d-none" role="status"></div>

        </div>

    </div>

  </div>
</div>

<% extraScripts=` 
  <script src="js/PaginaWeb/usuario/datosPersonales.js"></script>
`; %>
