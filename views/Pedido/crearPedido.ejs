<% extraStyles=`

    <style>
            #sugerenciasProducto {
            position: absolute; /* Hace que el contenedor flote */
            background: white; /* Fondo blanco para mejor visibilidad */
            border: 1px solid #ccc; /* Borde para definir el contenedor */
            border-radius: 4px; /* Bordes redondeados */
            z-index: 1000; /* Asegura que esté por encima de otros elementos */
            max-height: 200px; /* Altura máxima para el scroll */
            overflow-y: auto; /* Habilita el scroll si hay muchas sugerencias */
            width: calc(100% - 30px); /* Ajusta el ancho al input */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Sombra ligera */
            }
            
            #buscarProducto {
            position: relative; /* Asegura que el input sea la referencia para el contenedor */
            }
            
            .sugerencia {
            padding: 8px 12px;
            cursor: pointer;
            }
            
            .sugerencia:hover {
            background-color: #f1f1f1;
            }

    </style>

    `; %>

    <main style="margin-top: 20px">

    <div class="container-fluid pt-4" style="width: 90%; margin-bottom: 50px;" >
            <div class="row">
                <!-- Sección principal -->
                <div class="col-md-9">
                    <!-- Pestañas de navegación -->
                    <ul class="nav nav-tabs" id="pedidoTabs">
                        <li class="nav-item">
                            <button class="nav-link active" id="cliente-tab" data-bs-toggle="tab" data-bs-target="#cliente"
                                type="button">
                                Cliente
                            </button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="facturacion-tab" data-bs-toggle="tab" data-bs-target="#facturacion"
                                type="button" disabled>
                                Facturación
                            </button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="entrega-tab" data-bs-toggle="tab" data-bs-target="#entrega"
                                type="button" disabled>
                                Entrega
                            </button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="productos-tab" data-bs-toggle="tab" data-bs-target="#productos"
                                type="button" disabled>
                                Productos
                            </button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="observaciones-tab" data-bs-toggle="tab" data-bs-target="#observaciones"
                                type="button" disabled>
                                Observaciones
                            </button>
                        </li>
                    </ul>
        
                    <!-- Contenido de las pestañas -->
                    <div class="tab-content">
                        <!-- Cliente -->
                        <div class="tab-pane fade show active" id="cliente">
                            <h5 style="margin-top: 50px;">Información del Cliente</h5>
                            <form id="form-cliente">
                                <div class="row mb-2">
                                    <div class="col-md-6">
                                        <label for="nombreCliente" class="form-label">Nombre: *</label>
                                        <input type="text" id="nombreCliente" class="form-control" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="identificacionCliente" class="form-label">Identificación (RFC):</label>
                                        <input type="text" id="identificacionCliente" class="form-control">
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-md-6">
                                        <label for="regimenCliente" class="form-label">Régimen: *</label>
                                        <select id="regimenCliente" class="form-control" required>
                                            <option value="Sin Obligaciones Fiscales">Sin Obligaciones Fiscales</option>
                                            <option value="Persona Física">Persona Física</option>
                                            <option value="Persona Moral">Persona Moral</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="telefonoPrincipalCliente" class="form-label">Teléfono principal:</label>
                                        <input type="text" id="telefonoPrincipalCliente" class="form-control">
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-md-6">
                                        <label for="telefonoContactoCliente" class="form-label">Teléfono de contacto:</label>
                                        <input type="text" id="telefonoContactoCliente" class="form-control">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="correoCliente" class="form-label">Correo electrónico de contacto:</label>
                                        <input type="email" id="correoCliente" class="form-control">
                                    </div>
                                </div>
                                <h6 class="mt-3">Dirección</h6>
                                <div class="row mb-2">
                                    <div class="col-md-6">
                                        <label for="calleCliente" class="form-label">Calle:</label>
                                        <input type="text" id="calleCliente" class="form-control">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="numeroExteriorCliente" class="form-label">Número Exterior:</label>
                                        <input type="text" id="numeroExteriorCliente" class="form-control">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="numeroInteriorCliente" class="form-label">Número Interior:</label>
                                        <input type="text" id="numeroInteriorCliente" class="form-control">
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-md-4">
                                        <label for="coloniaCliente" class="form-label">Colonia:</label>
                                        <input type="text" id="coloniaCliente" class="form-control">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="localidadCliente" class="form-label">Localidad:</label>
                                        <input type="text" id="localidadCliente" class="form-control">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="municipioCliente" class="form-label">Municipio/Delegación:</label>
                                        <input type="text" id="municipioCliente" class="form-control">
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-md-4">
                                        <label for="estadoCliente" class="form-label">Estado:</label>
                                        <input type="text" id="estadoCliente" class="form-control">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="codigoPostalCliente" class="form-label">Código postal: *</label>
                                        <input type="text" id="codigoPostalCliente" class="form-control" required>
                                    </div>
                                </div>
                            </form>
                            <button class="btn btn-primary mt-3" id="btnSiguienteFacturacion">Siguiente</button>
                        </div>
        
                        <!-- Facturación -->
                        <div class="tab-pane fade" id="facturacion">
                            <h5 style="margin-top: 50px;">¿Facturas?</h5>
                            <button class="btn btn-success" id="btnFacturaSi">Sí</button>
                            <button class="btn btn-danger" id="btnFacturaNo">No</button>
                            <div id="form-facturacion"></div>
                            <br>
                            <br>
                            <button class="btn btn-primary" id="btnSiguienteEntrega" disabled>Siguiente</button>
                        </div>
        
                        <!-- Entrega -->
                        <div class="tab-pane fade" id="entrega">
                            <h5>Fecha de Entrega y Sucursal</h5>
                            <div>
                                
                            </div>
                            <input type="date" id="fechaEntrega" class="form-control mb-3" style="width: 50%;">
                            <select id="sucursal" class="form-control" style="width: 50%;">
                            </select>
                            <br>
                            <br>

                            <button class="btn btn-primary" id="btnSiguienteProductos">Siguiente</button>
                        </div>
        
                        <!-- Productos -->
                        <div class="tab-pane fade" id="productos">
                            <h5>Gestión de Productos</h5>
                            
                            <!-- Input para buscar producto -->
                            <div class="row mb-3" style="margin-bottom: 40px;">
                                <div class="col-md-2">
                                    <label for="cantidadProducto" class="form-label">Cantidad:</label>
                                    <input type="number" id="cantidadProducto" class="form-control" value="1" min="1">
                                </div>
                                <div class="col-md-6" style="position: relative;">
                                    <label for="buscarProducto" class="form-label">Buscar Producto:</label>
                                    <input type="text" id="buscarProducto" class="form-control"
                                        placeholder="Ingresa referencia o nombre del producto">
                                    <div id="sugerenciasProducto" class="list-group mt-1"></div>
                                </div>
                            
                                <div class="col-md-2 d-flex align-items-end">
                                    <button class="btn btn-primary w-100" onclick="agregarProductoATablaSeleccionado()">Agregar Producto</button>
                                </div>
                            </div>


                            <!-- Tabla de productos seleccionados -->
                            <div class="table-responsive" style="margin-top: 50px;">
                                <table class="table table-striped table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Referencia</th>
                                            <th>Nombre</th>
                                            <th>Cantidad</th>
                                            <th>Precio</th>
                                            <th>Total</th>
                                            <th>Rangos de Precios</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaProductos">
                                        <!-- Los productos seleccionados aparecerán aquí -->
                                    </tbody>
                                </table>
                            </div>

                            <!-- Botón para pasar a Observaciones -->
                            <button class="btn btn-primary mt-3" id="btnSiguienteObservaciones">Siguiente</button>
                        </div>



        
                        <!-- Observaciones -->
                        <div class="tab-pane fade" id="observaciones">
                            <h5>Observaciones</h5>
                            <textarea id="observaciones" class="form-control mb-3" rows="4"></textarea>
                        </div>
                    </div>
                </div>
        
                <!-- Panel lateral -->
                <div class="col-md-3">
                    <div class="card">
                        <div class="card-header">
                            <h5>Resumen del Pedido</h5>
                        </div>
                        <div class="card-body">
                            <p><strong>Cliente:</strong> <span id="resumenCliente">-</span></p>
                            <p><strong>Factura:</strong> <span id="resumenFacturacion">No definido</span></p>
                            <p><strong>Fecha de Entrega:</strong> <span id="resumenFechaEntrega">-</span></p>
                            <p><strong>Sucursal:</strong> <span id="resumenSucursal">-</span></p>
                            <p><strong>Total:</strong> <span id="resumenTotal">$0.00</span></p>
                            <button class="btn btn-success w-100 mt-3" id="btnCrearPedido" disabled>Crear Pedido</button>
                            <button class="btn btn-danger w-100 mt-2" id="btnCancelarPedido">Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

<% extraScripts=` 
        <script src="js/pedido/crearPedido.js"></script>
`; %>